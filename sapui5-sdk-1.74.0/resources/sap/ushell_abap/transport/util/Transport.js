// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(F,a){"use strict";var T=function(o){this.oODataModel=o;};T.prototype._getTransportLockedInformation=function(p){return this._readTransportInformation(p).then(function(t){return t.results.length?t.results[0]:true;});};T.prototype._readTransportInformation=function(p){var u="/transportSet";var f=new F("pageId",a.EQ,p);return new Promise(function(r,b){this.oODataModel.read(u,{filters:[f],success:r,error:b});}.bind(this));};T.prototype._isPackageTransportRequired=function(p){return this._readPackageInformation(p).then(function(r){return r.transportRequired;});};T.prototype._readPackageInformation=function(p){var u="/packageSet('"+encodeURIComponent(p)+"')";return new Promise(function(r,b){this.oODataModel.read(u,{success:r,error:b});}.bind(this));};T.prototype._showTransport=function(p){var P=p.metadata.devclass;if(p&&p.metadata&&!p.metadata.transportId){return this._isPackageTransportRequired(P);}return Promise.resolve(false);};T.prototype.checkShowTransport=function(p){return this._showTransport(p).then(function(s){return s;});};T.prototype.checkShowLocked=function(p){return this._getTransportLockedInformation(p.content.id).then(function(t){if(t.foreignOwner){return t;}return false;});};return T;});
