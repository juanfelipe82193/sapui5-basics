/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2013 SAP AG. All rights reserved
 */
sap.ui.define(["sap/landvisz/library","sap/ui/core/CustomData","sap/ui/commons/Menu","sap/ui/commons/MenuItem",],function(l,C,M,a){"use strict";var A=l.ActionType;var E=l.EntityCSSSize;var b={};b.render=function(r,c){if(!this.initializationDone){c.initControls();c.initializationDone=true;var d=c.getRenderingSize();var t;var s="sapLandviszActionText";var i="sapLandviszActionIcon";var e="sapLandviszActionAlign";if(d==E.Small){t="sapLandviszActionAlignSmall";}else if(d==E.RegularSmall){t="sapLandviszActionAlignRegularSmall";}else if(d==E.Regular){t="sapLandviszActionAlignRegular";}r.write("<div");r.writeControlData(c);r.addClass(e);r.addClass(t);if(c.getEnable()){r.addClass("enable");r.writeAttributeEscaped("tabIndex","0");}else{r.addClass("disable");r.writeAttributeEscaped("tabIndex","-1");}if(c.getActionType()==A.MENU){r.write(" style='");r.write("border:0px;");r.write("padding : 0px;");r.write("'");r.addClass("sapLandviszActionIndex");}r.writeClasses();r.write(">");if(c.getActionType()==A.NORMAL){r.write("<div style='padding:0 2px'");r.writeAttributeEscaped("id",c.getId()+"Action");r.writeAttributeEscaped("title",c.getActionTooltip());r.write(">");var f=c.getIconSrc();if(f&&f!=""){c.customActionIcon.setSrc(c.getIconSrc());c.customActionIcon.addStyleClass(i);r.renderControl(c.customActionIcon);}r.write("<div");r.writeAttributeEscaped("id",c.getId()+"Action_text");r.addClass(s);r.writeClasses();r.write(">");r.writeEscaped(c.getActionLabel());r.write("</div>");r.write("</div>");if(!c.getEnable()){r.write("<div");r.writeAttributeEscaped("id",c.getId()+"Action_Disable");r.addClass("sapLandviszActionDisable");r.writeClasses();r.write("/>");}}else if(c.getActionType()==A.MENU){this._renderSubMenu(r,c);if(d==E.Small){c.menuButton.addStyleClass("sapLandviszSmallSizeMenuItem");c.menuButton.removeStyleClass("sapLandviszMenuItem");c.menuButton.setHeight("20px")}else if(d==E.Regular||d==E.Medium||d==E.Large||d==E.RegularSmall){c.menuButton.addStyleClass("sapLandviszMenuItem");c.menuButton.removeStyleClass("sapLandviszSmallSizeMenuItem");c.menuButton.setHeight("28px");}c.menuButton.setEnabled(c.getEnable());c.menuButton.setText(c.getActionLabel());c.menuButton.setTooltip(c.getActionTooltip());r.renderControl(c.menuButton);}r.write("</div>");}};b._renderSubMenu=function(r,c){var m=c.getMenuData();var o=new M();o.attachItemSelect(function(g){c.selectedItem=g.mParameters.item;if(c.getChangeView()==false)c.$().click();else c.fireEvent("changeView");});o.addStyleClass("sapLandviszMenuItem");o.addStyleClass("sapLandviszMenuItemBorber");var s;var d=null;var e=null;if(m&&m.length>0){for(var i=0;i<m.length;i++){d=m[i];e=new a({text:d.text,tooltip:d.tooltip});if(d.customdata){var f=new C({key:d.customdata,});e.addCustomData(f);}o.addItem(e);if(d.subActions&&d.subActions.length>0){var s=c._createMenu(d.subActions);e.setSubmenu(s);}}}c.menuButton.setMenu(o);};return b;},true);
