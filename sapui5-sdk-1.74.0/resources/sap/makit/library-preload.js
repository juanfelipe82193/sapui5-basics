//@ui5-bundle sap/makit/library-preload.js
/*!
 * SAPUI5

(c) Copyright 2009-2020 SAP SE. All rights reserved
 */
sap.ui.predefine('sap/makit/Axis',["./library","sap/ui/core/Element"],function(m,E){"use strict";
var A=E.extend("sap.makit.Axis",{metadata:{deprecated:true,library:"sap.makit",properties:{showLabel:{type:"boolean",group:"Appearance",defaultValue:true},showPrimaryLine:{type:"boolean",group:"Appearance",defaultValue:true},showGrid:{type:"boolean",group:"Appearance",defaultValue:false},thickness:{type:"float",group:"Appearance",defaultValue:1},color:{type:"string",group:"Appearance",defaultValue:'gray'}}}});
return A;});
sap.ui.predefine('sap/makit/Category',["./library","sap/ui/core/Element"],function(m,E){"use strict";
var C=E.extend("sap.makit.Category",{metadata:{deprecated:true,library:"sap.makit",properties:{column:{type:"string",group:"Misc",defaultValue:null},displayName:{type:"string",group:"Misc",defaultValue:null},format:{type:"string",group:"Misc",defaultValue:null}}}});
return C;});
sap.ui.predefine('sap/makit/CategoryAxis',["./library","./Axis"],function(m,A){"use strict";var S=m.SortOrder;
var C=A.extend("sap.makit.CategoryAxis",{metadata:{deprecated:true,library:"sap.makit",properties:{sortOrder:{type:"sap.makit.SortOrder",group:"Misc",defaultValue:S.None},displayLastLabel:{type:"boolean",group:"Misc",defaultValue:false},displayAll:{type:"boolean",group:"Misc",defaultValue:true}}}});
C.prototype.init=function(){this.setShowGrid(false);this.setShowPrimaryLine(true);};
return C;});
sap.ui.predefine('sap/makit/Chart',["./library","./MakitLib","./CategoryAxis","./ValueAxis","./ValueBubble","./Row","./ChartRenderer","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/RenderManager","sap/ui/core/ResizeHandler","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/assert"],function(m,M,C,V,a,R,b,c,E,d,e,q,L,f){"use strict";var g=m.LegendPosition;var h=m.ChartType;
var j=c.extend("sap.makit.Chart",{metadata:{deprecated:true,library:"sap.makit",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},type:{type:"sap.makit.ChartType",group:"Appearance",defaultValue:h.Column},showRangeSelector:{type:"boolean",group:"Appearance",defaultValue:true},showTableView:{type:"boolean",group:"Misc",defaultValue:false},legendPosition:{type:"sap.makit.LegendPosition",group:"Misc",defaultValue:null},lineThickness:{type:"float",group:"Misc",defaultValue:1},showTableValue:{type:"boolean",group:"Misc",defaultValue:true},maxSliceCount:{type:"int",group:"Misc",defaultValue:12},primaryColorPalette:{type:"any",group:"Misc",defaultValue:null},showTotalValue:{type:"boolean",group:"Misc",defaultValue:false},numberOfVisibleCategories:{type:"int",group:"Misc",defaultValue:null},rangeSelectorStartPosition:{type:"int",group:"Misc",defaultValue:0}},aggregations:{rows:{type:"sap.makit.Row",multiple:true,singularName:"row",bindable:"bindable",deprecated:true},columns:{type:"sap.makit.Column",multiple:true,singularName:"column",bindable:"bindable",deprecated:true},series:{type:"sap.makit.Series",multiple:false,deprecated:true},values:{type:"sap.makit.Value",multiple:true,singularName:"value",deprecated:true},categoryRegions:{type:"sap.makit.Category",multiple:true,singularName:"categoryRegion",deprecated:true},category:{type:"sap.makit.Category",multiple:false,deprecated:true},categoryAxis:{type:"sap.makit.CategoryAxis",multiple:false,deprecated:true},valueAxis:{type:"sap.makit.ValueAxis",multiple:false,deprecated:true},valueBubble:{type:"sap.makit.ValueBubble",multiple:false,deprecated:true}},events:{doubletap:{},tap:{},longpress:{}}}});
j.prototype.init=function(){this._makitChart=null;this._parentCurrentHeight=0;this._selectedCatIdx=0;this._chartTypeDefined=false;this._legendPosDefined=false;this._createRowsCalled=false;this._datarows=[];this._styleClasses=[];this.setCategoryAxis(new C());this.setValueAxis(new V());this.setValueBubble(new a());this.setPrimaryColorPalette(null);if(this.getType()===h.Pie||this.getType()===h.Donut){this.setLegendPosition(g.Left);}else{this.setLegendPosition(g.None);}this.attachEvent("_change",this._onPropertyChanged);sap.ui.getCore().attachThemeChanged(this._applyCSS,this);};
j.prototype.onBeforeRendering=function(o){this.fireEvent("_beforeRendering",this);if(this.getDomRef()&&!d.isPreservedContent(this.getDomRef())){d.preserveContent(this.getDomRef(),true,false);}};
j.prototype.onAfterRendering=function(o){this.fireEvent("_afterRendering",this);var $=q(document.getElementById("sap-ui-dummy-"+this.getId()));var i=d.findPreservedContent(this.getId());var k=null;if(i.size()==0){this.fireEvent("_createMAKitObject",this);this._createChartObject();k=new q(this.getDomRef());$.replaceWith(k);var p=document.getElementById(this.getParent().getId());this._parentCurrentHeight=p.offsetHeight;e.register(p,q.proxy(this._onResize,this));}else if(i.size()>0){this.fireEvent("_restoreMAKitObject",this);$.replaceWith(i);}else{$.remove();}if(k){this._makitChart.showRangeSelectorView(this.getShowRangeSelector());this._makitChart.showTableView(this.getShowTableView());this._makitChart.setGraphLineWidth(this.getLineThickness());this._makitChart.showTableValue(this.getShowTableValue());this._makitChart.setMaxPies(this.getMaxSliceCount());this._makitChart.setPalette(this.getPrimaryColorPalette());this._makitChart.setProperty("ShowTotal",this.getShowTotalValue());this._makitChart.setNumberOfVisibleCategories(this.getNumberOfVisibleCategories());this._makitChart.setRangeSelectorStartPosition(this.getRangeSelectorStartPosition());}this._setDataTable();};
j.prototype.addStyleClass=function(s,S){if(this._styleClasses.indexOf(s)===-1){this._styleClasses.push(s);}if(this._makitChart){c.prototype.addStyleClass.call(this,s,S);}return this;};
j.prototype.removeStyleClass=function(s,S){var i=this._styleClasses.indexOf(s);if(i>-1){this._styleClasses.splice(i,1);}if(this._makitChart){c.prototype.removeStyleClass.call(this,s,S);}return this;};
j.prototype.bindAggregation=function(n,B){if(n==="rows"){if(typeof B=="string"){B={path:arguments[1],template:arguments[2],sorter:arguments[3],filters:arguments[4]};}B.template=undefined;B.factory=function(){};return E.prototype.bindAggregation.call(this,n,B);}return E.prototype.bindAggregation.apply(this,arguments);};
j.prototype.addRow=function(r){L.error("The control manages the rows aggregation. The method \"addRow\" cannot be used programmatically!");};
j.prototype.insertRow=function(r,i){L.error("The control manages the rows aggregation. The method \"insertRow\" cannot be used programmatically!");};
j.prototype.removeRow=function(r){L.error("The control manages the rows aggregation. The method \"removeRow\" cannot be used programmatically!");};
j.prototype.removeAllRows=function(){L.error("The control manages the rows aggregation. The method \"removeAllRows\" cannot be used programmatically!");};
j.prototype.destroyRows=function(r){L.error("The control manages the rows aggregation. The method \"destroyRows\" cannot be used programmatically!");};
j.prototype.updateRows=function(){this.fireEvent("_startUpdateRows",this);this._createRows();this._createRowsCalled=true;if(this._makitChart){this._setDataTable();}this.fireEvent("_endUpdateRows",this);};
j.prototype.setValueBubble=function(v){if(v instanceof a){E.prototype.setAggregation.call(this,"valueBubble",v,false);v.attachEvent("_change",this._onValueBubbleChanged,this);if(this._makitChart){var i=v.toObject();this._makitChart.setValueBubbleStyle(i);if(this._makitChart.isValueBubbleVisible()!=i.visible){this._makitChart.showValueBubble(i.visible);}}}else{throw new Error("valueBubble property must be of type sap.makit.ValueBubble");}return this;};
j.prototype.setCategory=function(o){var i=this.getCategoryRegions();if(i.length>0){this.removeCategoryRegion(0);}this.insertCategoryRegion(o,0);return this;};
j.prototype.getCategory=function(o){var i=this.getCategoryRegions();return i[0];};
j.prototype.destroyCategory=function(){this.removeCategoryRegion(0);return this;};
j.prototype.addCategoryRegion=function(o){E.prototype.addAggregation.call(this,"categoryRegions",o,false);o.attachEvent("_change",{type:"categories"},this._onDataRegionPropChanged,this);return this;};
j.prototype.insertCategoryRegion=function(o,i){E.prototype.insertAggregation.call(this,"categoryRegions",o,i,false);o.attachEvent("_change",{type:"categories"},this._onDataRegionPropChanged,this);return this;};
j.prototype.removeCategoryRegion=function(o){var r=E.prototype.removeAggregation.call(this,"categoryRegions",o,false);if(r!=null){o.detachEvent("_change",this._onDataRegionPropChanged,this);}return r;};
j.prototype.removeAllCategoryRegions=function(){var r=E.prototype.removeAllAggregation.call(this,"categoryRegions",false);var l=r.length;var i;for(i=0;i<l;i++){r[i].detachEvent("_change",this._onDataRegionPropChanged,this);}return r;};
j.prototype.addValue=function(v){E.prototype.addAggregation.call(this,"values",v,false);v.attachEvent("_change",{type:"values"},this._onDataRegionPropChanged,this);return this;};
j.prototype.insertValue=function(v,i){E.prototype.insertAggregation.call(this,"values",v,i,false);v.attachEvent("_change",{type:"values"},this._onDataRegionPropChanged,this);return this;};
j.prototype.removeValue=function(v){var r=E.prototype.removeAggregation.call(this,"values",v,false);if(r!=null){r.detachEvent("_change",this._onDataRegionPropChanged,this);}return r;};
j.prototype.removeAllValues=function(){var r=E.prototype.removeAllAggregation.call(this,"values",false);var l=r.length;var i;for(i=0;i<l;i++){r[i].detachEvent("_change",this._onDataRegionPropChanged,this);}return r;};
j.prototype.setSeries=function(s){E.prototype.setAggregation.call(this,"series",s,false);s.attachEvent("_change",{type:"series"},this._onDataRegionPropChanged,this);return this;};
j.prototype.setValueAxis=function(v){if(v instanceof V){E.prototype.setAggregation.call(this,"valueAxis",v,false);v.attachEvent("_change",{axis:"values"},this._onAxisPropChanged,this);}else{throw new Error("valueAxis property must be of type sap.makit.ValueAxis");}return this;};
j.prototype.setCategoryAxis=function(o){if(o instanceof C){E.prototype.setAggregation.call(this,"categoryAxis",o,false);o.attachEvent("_change",{axis:"category"},this._onAxisPropChanged,this);}else{throw new Error("categoryAxis property must be of type sap.makit.CategoryAxis");}return this;};
j.prototype.setPrimaryColorPalette=function(o){if(o==null||(o instanceof Array&&o.length>0)){E.prototype.setProperty.call(this,"primaryColorPalette",o,false);if(this._makitChart){this._makitChart.setPalette(o);}}else{throw new Error("primaryColorPalette property must be an array");}return this;};
j.prototype._setRealHeight=function(i){var k=this.getDomRef();var p=k.style.height;var n="0px";if(i.indexOf("%")>-1){var l=document.getElementById(this.getParent().getId());var o=parseInt(i);var r=Math.ceil(l.offsetHeight*(o/100));n=r+"px";}else{n=i;}if(p!=n){k.style.height=n;}};
j.prototype._createRows=function(){this.fireEvent("_startCreateRows",this);var t=new R(this.getId()+"-dummyrows");var k=this.getColumns();for(var i=0,l=k.length;i<l;i++){var o=k[i];if(o){var n=o.clone("col"+i);n.detachEvent("_change",this._onColumnPropChanged,this);for(var p in o.mProperties){if(o.mProperties.hasOwnProperty(p)){n.setProperty(p,o.getProperty(p),false);}}n.data("sap-ui-colindex",i);t.addAggregation("cells",n);n.unbindAggregation("name",true);}}this.fireEvent("_endColumn",this);this.destroyAggregation("rows");this.fireEvent("_endDestroyRows",this);var r=undefined;var B=this.getBinding("rows");if(B){r=B.getContexts();}var s=B.getLength();this._datarows=[];var u=this.getBindingInfo("rows");var v=undefined;if(u&&u.model){v=u.model;}this.fireEvent("_endPrepareRows",this);for(var i=0;i<s;i++){if(r&&r[i]){var n=t.clone("row"+i);n.setBindingContext(r[i],v);this.addAggregation("rows",n);this._datarows.push(n._datarow);}}this.fireEvent("_endCreateRows",this);t.destroy();};
j.prototype._createChartObject=function(){var k=this.getDomRef();f(k,"Chart's DomRef is not ready");k.style.width=this.getWidth();this._setRealHeight(this.getHeight());this._makitChart=new window.$MA.Chart(this.getId(),true);var t=this;this._makitChart.bind("initialized",function(){t._makitChart.showToolBar(false);t._setMakitChartProperties();});this._makitChart.bind("beforerender",function(){t.fireEvent("_makitBeforeRender",t);});this._makitChart.bind("renderstart",function(){t.fireEvent("_makitRenderStart",t);});this._makitChart.bind("renderend",function(){t.fireEvent("_makitRenderEnd",t);});this._makitChart.bind("animationend",function(){t.fireEvent("_makitAnimationEnd",t);});var s=this._getChartSyntax();this._makitChart.create(s);this._makitChart.bind("tap",function(p){t._selectedCatIdx=t._makitChart.getSelectedCategoryIndex();t.fireTap(p);});this._makitChart.bind("doubletap",function(p){t.fireEvent("doubletap",p);});this._makitChart.bind("longpress",function(p){t._selectedCatIdx=t._makitChart.getSelectedCategoryIndex();t.fireEvent("longpress",p);});var l=this._styleClasses.length;for(var i=0;i<l;i++){this.addStyleClass(this._styleClasses[i]);}this._applyCSS();};
j.prototype._setMakitChartProperties=function(){if(!this._makitChart){return;}this._makitChart.setLegend(this.getLegendPosition().toLowerCase());if(this._dataInitialized){this._makitChart.showTableView(this.getShowTableView());this._makitChart.showRangeSelectorView(this.getShowRangeSelector());this._makitChart.setGraphLineWidth(this.getLineThickness());this._makitChart.showTableValue(this.getShowTableValue());this._makitChart.setPalette(this.getPrimaryColorPalette());this._makitChart.setProperty("ShowTotal",this.getShowTotalValue());this._makitChart.setNumberOfVisibleCategories(this.getNumberOfVisibleCategories());this._makitChart.setRangeSelectorStartPosition(this.getRangeSelectorStartPosition());}var v=this.getValueBubble();if(v){var i=v.toObject();this._makitChart.setValueBubbleStyle(i);if(this._makitChart.isValueBubbleVisible()!=i.visible){this._makitChart.showValueBubble(i.visible);}}};
j.prototype.addColumn=function(v){E.prototype.addAggregation.call(this,"columns",v,false);v.attachEvent("_change",{type:"columns"},this._onColumnPropChanged,this);return this;};
j.prototype._getChartSyntax=function(){var k=this.getCategoryAxis();var l=this.getCategoryRegions();var n=l.length;if(n>0){var i;var o="<Categories";if(k){if(k.getDisplayAll()){o+=' display ="'+k.getDisplayAll()+'"';}}o+=">";var p="";for(i=n-1;i>=0;i--){var t=l[i].getDisplayName();if(t&&t.length>0){p+=t+" | ";}}p=p.substr(0,p.length-3);for(i=0;i<n;i++){var r=l[i];o+='<Category column ="'+r.getColumn()+'"';if(r.getFormat()){o+=' format ="'+r.getFormat()+'"';}if(i==0){o+=' displayname ="'+p+'"';}if(k){o+=' showprimaryline ="'+k.getShowPrimaryLine()+'"';o+=' showgrid ="'+k.getShowGrid()+'"';o+=' showlabel ="'+k.getShowLabel()+'"';o+=' thickness ="'+k.getThickness()+'"';o+=' color ="'+k.getColor()+'"';o+=' sortorder ="'+k.getSortOrder().toLowerCase()+'"';o+=' displaylastlabel ="'+k.getDisplayLastLabel()+'"';}o+=' />';}o+="</Categories>";}else{throw new Error("Chart '"+this.getId()+"' needs at least one Category data region");}var s=this.getSeries();var u='';if(s){u='<Series Column ="'+s.getColumn()+'"';if(s.getFormat()){u+=' format ="'+s.getFormat()+'"';}if(s.getDisplayName()){u+=' displayname ="'+s.getDisplayName()+'"';}u+='/>';}var v=this.getValueAxis();var w='<Values>';if(v){w='<Values';w+=' showprimaryline ="'+v.getShowPrimaryLine()+'"';w+=' showgrid ="'+v.getShowGrid()+'"';w+=' showlabel ="'+v.getShowLabel()+'"';w+=' thickness ="'+v.getThickness()+'"';w+=' color ="'+v.getColor()+'"';if(v.getMin()!==""){w+=' min ="'+v.getMin()+'"';}if(v.getMax()!==""){w+=' max ="'+v.getMax()+'"';}w+='>';}var x=this.getValues();var y=x.length;if(y==0){throw new Error("Chart '"+this.getId()+"' needs at least one Value data region");}var z;for(var i=0;i<y;i++){z=x[i];w+='<Value Expression ="'+z.getExpression()+'"';if(z.getFormat()){w+=' format ="'+z.getFormat()+'"';}if(z.getDisplayName()){w+=' displayname ="'+z.getDisplayName()+'"';}if(z.getLocale()!==""){w+=' Locale ="'+z.getLocale()+'"';}w+='/>';}w+='</Values>';var A=this.getType().toLowerCase();var B=null;if(A==="donut"||A==="pie"){B=A;A="pie";}var D='<Chart ChartType ="'+A+'"';if(B!==null){D+=' PieStyle ="'+B+'"';}D+=' >';D+=o;if(s){D+=u;}D+=w;D+='</Chart>';return D;};
j.prototype._setDataTable=function(){this._setDataTableTimer=this._setDataTableTimer||setTimeout(function(){f(this._makitChart,"_makitChart is not initialized");if(this._datarows&&this._datarows.length>0){this.fireEvent("_createDataTable",this);var k=this._datarows;var l=new window.$MA.DataTable();var n=this.getColumns();var o=n.length;if(o==0){n=this.getRows()[0].getCells();o=n.length;}for(var i=0;i<o;i++){l.addColumn(n[i].getName(),n[i].getType());}l.addRows(k);this.fireEvent("_beforeSetDataTable",this);this._makitChart.setDataTable(l);this._dataInitialized=true;}this._setDataTableTimer=undefined;}.bind(this),150);};
j.prototype._applyCSS=function(o){if(this._makitChart){this._makitChart.applyCSS();}};
j.prototype._onResize=function(o){var p=document.getElementById(this.getParent().getId());var i=p.offsetHeight;var k=p.offsetWidth;if((this._parentCurrentHeight!=i&&i>0)||i<5){this._setRealHeight(this.getHeight());this._parentCurrentHeight=p.offsetHeight;}if(this._makitChart!=null&&i>0&&k>0){this._makitChart.refresh();}};
j.prototype._onPropertyChanged=function(o){var n=o.mParameters["name"];var i=o.mParameters["newValue"];if(n==="type"&&!this._chartTypeDefined){this._chartTypeDefined=true;if(!this._legendPosDefined){if(i===h.Pie||i===h.Donut){this.setLegendPosition(g.Left);}else{this.setLegendPosition(g.None);}}}else if(n==="legendPosition"&&!this._legendPosDefined){this._legendPosDefined=true;}if(this._makitChart){if(n==="type"){var t=i.toLowerCase();var p=null;this._makitChart.setProperty("ChartType",t);if(t==="donut"||t==="pie"){p=t;t="pie";this._makitChart.setProperty("PieStyle",p);}}else if(n==="showRangeSelector"){this._makitChart.showRangeSelectorView(i);}else if(n==="showTableView"){this._makitChart.showTableView(i);}else if(n==="legendPosition"){this._makitChart.setLegend(i.toLowerCase());}else if(n==="width"){this.getDomRef().style.width=this.getWidth();}else if(n==="height"){this._setRealHeight(i);}else if(n==="lineThickness"){this._makitChart.setGraphLineWidth(i);}else if(n==="maxSliceCount"){this._makitChart.setMaxPies(i);}else if(n==="showTableValue"){this._makitChart.showTableValue(i);}else if(n==="primaryColorPalette"){this._makitChart.setPalette(i);}else if(n==="showTotalValue"){this._makitChart.setProperty("ShowTotal",i);}else if(n==="numberOfVisibleCategories"){this._makitChart.setNumberOfVisibleCategories(i);}else if(n==="rangeSelectorStartPosition"){this._makitChart.setRangeSelectorStartPosition(i);}this._makitChart.setSelectedCategoryIndex(this._selectedCatIdx);this._makitChart.refresh();}};
j.prototype._onColumnPropChanged=function(o,D){var p=o.mParameters;if(p["name"]=="name"&&this._createRowsCalled){L.info("Column name property is changed due to name has been binded");this._createRows();}};
j.prototype._onDataRegionPropChanged=function(o,D){f(D,"oData is expected to be set in _onDataRegionPropChanged");if(!this._makitChart){return;}var p=o.mParameters;if(D["type"]=="values"){var v=o.oSource;var k=this.indexOfValue(v);if(k>-1){this._makitChart.setProperty(D["type"]+"["+k+"]."+p["name"],p["newValue"]);}}else if(D["type"]=="categories"){var l=o.oSource;var k=this.indexOfCategoryRegion(l);var n=p["name"];if(k>-1){if(n=="displayName"){var r=this.getCategoryRegions();var i,s="",t=r.length;for(i=0;i<t;i++){s+=r[i].getDisplayName();if(i!=t-1){s+=" | ";}}this._makitChart.setProperty("category."+n,p["newValue"]);}else{this._makitChart.setProperty(D["type"]+"["+k+"]."+n,p["newValue"]);}}}else{this._makitChart.setProperty(D["type"]+"."+p["name"],p["newValue"]);}};
j.prototype._onAxisPropChanged=function(o,D){f(D,"oData is expected to be set in _onAxisPropChanged");if(!this._makitChart){return;}var p=o.mParameters;var n=p["name"].toLowerCase();var v=p["newValue"];var i=D["axis"];if(n==="sortorder"){v=v.toLowerCase();}else if(n==="displayall"){i="categories";n="display";if(!v){v="";}}this._makitChart.setProperty(i+"."+n,v);if(n==="sortorder"){this._setDataTable();}};
j.prototype._onValueBubbleChanged=function(o){if(!this._makitChart){return;}var v=this.getValueBubble().toObject();this._makitChart.setValueBubbleStyle(v);if(this._makitChart.isValueBubbleVisible()!=v.visible){this._makitChart.showValueBubble(v.visible);}this._makitChart.refresh();};
j.prototype.getSelectedCategory=function(){var s=undefined;if(this._makitChart){s=this._makitChart.getSelectedCategory();}return s;};
j.prototype.getSelectedSeries=function(){var s=undefined;if(this._makitChart){s=this._makitChart.getSelectedSeries();}return s;};
j.prototype.getNumberOfCategories=function(){var n=undefined;if(this._makitChart){n=this._makitChart.getNumberOfCategories();}return n;};
j.prototype.getSelectedCategoryGroup=function(){var s=undefined;if(this._makitChart){s=this._makitChart.getSelectedCategoryGroup();}return s;};
return j;});
sap.ui.predefine('sap/makit/ChartRenderer',[],function(){"use strict";var C={};
C.render=function(r,c){r.write("<div id =\"sap-ui-dummy-"+c.getId()+"\" style =\"display:none\">");r.write("<div");r.writeControlData(c);r.writeAttribute("data-sap-ui-preserve",c.getId());r.addClass("sapMakitChart");r.writeClasses();r.write(">");r.write("</div>");r.write("</div>");};
return C;},true);
sap.ui.predefine('sap/makit/Column',["./library","sap/ui/core/Element"],function(m,E){"use strict";
var C=E.extend("sap.makit.Column",{metadata:{deprecated:true,library:"sap.makit",properties:{name:{type:"string",group:"Identification",defaultValue:null},value:{type:"any",group:"Data",defaultValue:null},type:{type:"string",group:"Misc",defaultValue:'string'}}}});
return C;});
sap.ui.predefine('sap/makit/CombinationChart',["./library","./MakitLib","./CategoryAxis","./ValueAxis","./ValueBubble","./CombinationChartRenderer","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/RenderManager","sap/ui/core/ResizeHandler","sap/ui/thirdparty/jquery","sap/base/assert"],function(m,M,C,V,a,b,c,E,R,d,q,e){"use strict";var f=m.ChartType;var L=m.LegendPosition;
var g=c.extend("sap.makit.CombinationChart",{metadata:{deprecated:true,library:"sap.makit",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},showRangeSelector:{type:"boolean",group:"Appearance",defaultValue:true},legendPosition:{type:"sap.makit.LegendPosition",group:"Misc",defaultValue:L.Left},primaryColorPalette:{type:"any",group:"Misc",defaultValue:null},secondaryColorPalette:{type:"any",group:"Misc",defaultValue:null},showTableValue:{type:"boolean",group:"Misc",defaultValue:true},numberOfVisibleCategories:{type:"int",group:"Misc",defaultValue:null},rangeSelectorStartPosition:{type:"int",group:"Misc",defaultValue:0}},aggregations:{categoryRegions:{type:"sap.makit.Category",multiple:true,singularName:"categoryRegion",deprecated:true},layers:{type:"sap.makit.Layer",multiple:true,singularName:"layer",deprecated:true},categoryAxis:{type:"sap.makit.CategoryAxis",multiple:false,deprecated:true},primaryValueAxis:{type:"sap.makit.ValueAxis",multiple:false,deprecated:true},secondaryValueAxis:{type:"sap.makit.ValueAxis",multiple:false,deprecated:true},valueBubble:{type:"sap.makit.ValueBubble",multiple:false,deprecated:true}},events:{doubletap:{},tap:{},longpress:{}}}});
g.prototype.init=function(){this._makitChart=null;this._parentCurrentHeight=0;this._selectedCatIdx=0;this._datarows=[];this._styleClasses=[];this.setCategoryAxis(new C());this.setPrimaryValueAxis(new V());this.setSecondaryValueAxis(new V());this.setValueBubble(new a());this.attachEvent("_change",this._onPropertyChanged);sap.ui.getCore().attachThemeChanged(this._applyCSS,this);};
g.prototype.onBeforeRendering=function(o){this.fireEvent("_beforeRendering",this);if(this.getDomRef()&&!R.isPreservedContent(this.getDomRef())){R.preserveContent(this.getDomRef(),true,false);}};
g.prototype.onAfterRendering=function(o){this.fireEvent("_afterRendering",this);var $=q(document.getElementById("sap-ui-dummy-"+this.getId()));var h=R.findPreservedContent(this.getId());var i=null;if(this.getLayers().length>0){if(h.size()==0){this.fireEvent("_createMAKitObject",this);i=new q(this.getDomRef());$.replaceWith(i);this._createChartObject();var p=document.getElementById(this.getParent().getId());this._parentCurrentHeight=p.offsetHeight;d.register(p,q.proxy(this._onResize,this));}else if(h.size()>0){this.fireEvent("_restoreMAKitObject",this);$.replaceWith(h);}if(i){this._makitChart.setPalette(this.getPrimaryColorPalette(),"primaryaxis");this._makitChart.setPalette(this.getSecondaryColorPalette(),"secondaryaxis");this._makitChart.setNumberOfVisibleCategories(this.getNumberOfVisibleCategories());this._makitChart.setRangeSelectorStartPosition(this.getRangeSelectorStartPosition());this._setDataTable();}}};
g.prototype.addStyleClass=function(s,S){if(this._styleClasses.indexOf(s)===-1){this._styleClasses.push(s);}if(this._makitChart){c.prototype.addStyleClass.call(this,s,S);}return this;};
g.prototype.removeStyleClass=function(s,S){var i=this._styleClasses.indexOf(s);if(i>-1){this._styleClasses.splice(i,1);}if(this._makitChart){c.prototype.removeStyleClass.call(this,s,S);}return this;};
g.prototype.addLayer=function(l){if(this._makitChart){throw new Error("Cannot add layer once the chart has been rendered");}this._checkLayer(l);E.prototype.addAggregation.call(this,"layers",l,false);l.attachEvent("rowsUpdated",this._setDataTable,this);l.attachEvent("dataRegionChanged",this._onDataRegionPropChanged,this);l.attachEvent("_change",this._onLayerPropertyChanged,this);return this;};
g.prototype.insertLayer=function(l,i){if(this._makitChart){throw new Error("Cannot add layer once the chart has been rendered");}this._checkLayer(l);E.prototype.insertAggregation.call(this,"layers",l,i,false);l.attachEvent("rowsUpdated",this._setDataTable,this);l.attachEvent("dataRegionChanged",this._onDataRegionPropChanged,this);l.attachEvent("_change",this._onLayerPropertyChanged,this);return this;};
g.prototype.removeLayer=function(l){if(this._makitChart){throw new Error("Cannot remove layer once the chart has been rendered");}var r=E.prototype.removeAggregation.call(this,"layers",l,false);if(r!=null){r.detachEvent("rowsUpdated",this._setDataTable,this);r.detachEvent("dataRegionChanged",this._onDataRegionPropChanged,this);r.detachEvent("_change",this._onLayerPropertyChanged,this);}return r;};
g.prototype.removeAllLayers=function(){if(this._makitChart){throw new Error("Cannot remove layers once the chart has been rendered");}var r=E.prototype.removeAllAggregation.call(this,"layers",false);var l=r.length;var i;for(i=0;i<l;i++){r[i].detachEvent("rowsUpdated",this._setDataTable,this);r[i].detachEvent("dataRegionChanged",this._onDataRegionPropChanged,this);r[i].detachEvent("_change",this._onLayerPropertyChanged,this);}return r;};
g.prototype._checkLayer=function(l){var h=this.getLayers();var j=h.length;var i;if(l.getType()==f.Line){for(i=0;i<j;i++){if(h[i].getType()==f.Bar){l.setLineType("verticalline");break;}else{l.setLineType("line");}}}else{for(i=0;i<j;i++){if(h[i].getType()!=f.Line){throw new Error("Cannot combine 2 different non-line chart type");}}for(i=0;i<j;i++){if(h[i].getType()==f.Line){if(l.getType()==f.Bar){h[i].setLineType("verticalline");}else{h[i].setLineType("line");}}}}};
g.prototype.setValueBubble=function(v){if(v instanceof a){E.prototype.setAggregation.call(this,"valueBubble",v,false);v.attachEvent("_change",this._onValueBubbleChanged,this);if(this._makitChart){var h=v.toObject();this._makitChart.setValueBubbleStyle(h);if(this._makitChart.isValueBubbleVisible()!=h.visible){this._makitChart.showValueBubble(h.visible);}}}else{throw new Error("valueBubble property must be of type sap.makit.ValueBubble");}return this;};
g.prototype.addCategoryRegion=function(o){E.prototype.addAggregation.call(this,"categoryRegions",o,false);o.attachEvent("_change",{type:"categories"},this._onDataRegionPropChanged,this);return this;};
g.prototype.insertCategoryRegion=function(o,i){E.prototype.insertAggregation.call(this,"categoryRegions",o,i,false);o.attachEvent("_change",{type:"categories"},this._onDataRegionPropChanged,this);return this;};
g.prototype.removeCategoryRegion=function(o){var r=E.prototype.removeAggregation.call(this,"categoryRegions",o,false);if(r!=null){o.detachEvent("_change",this._onDataRegionPropChanged,this);}return r;};
g.prototype.removeAllCategoryRegions=function(){var r=E.prototype.removeAllAggregation.call(this,"categoryRegions",false);var l=r.length;var i;for(i=0;i<l;i++){r[i].detachEvent("_change",this._onDataRegionPropChanged,this);}return r;};
g.prototype.setPrimaryValueAxis=function(v){if(v instanceof V){E.prototype.setAggregation.call(this,"primaryValueAxis",v,false);v.attachEvent("_change",{axis:"values",secondaryAxis:false},this._onAxisPropChanged,this);}else{throw new Error("primaryValueAxis property must be of type sap.makit.ValueAxis");}return this;};
g.prototype.setSecondaryValueAxis=function(v){if(v instanceof V){E.prototype.setAggregation.call(this,"secondaryValueAxis",v,false);v.attachEvent("_change",{axis:"values",secondaryAxis:true},this._onAxisPropChanged,this);}else{throw new Error("secondaryValueAxis property must be of type sap.makit.ValueAxis");}return this;};
g.prototype.setCategoryAxis=function(o){if(o instanceof C){E.prototype.setAggregation.call(this,"categoryAxis",o,false);o.attachEvent("_change",{axis:"category"},this._onAxisPropChanged,this);}else{throw new Error("categoryAxis property must be of type sap.makit.CategoryAxis");}return this;};
g.prototype._setRealHeight=function(h){var i=this.getDomRef();var p=i.style.height;var n="0px";if(h.indexOf("%")>-1){var j=document.getElementById(this.getParent().getId());var k=parseInt(h);var r=Math.ceil(j.offsetHeight*(k/100));n=r+"px";}else{n=h;}if(p!=n){i.style.height=n;}};
g.prototype._createChartObject=function(){var h=this.getDomRef();e(h,"Chart's DomRef is not ready");h.style.width=this.getWidth();this._setRealHeight(this.getHeight());this._makitChart=new window.$MA.Chart(this.getId(),true);var t=this;this._makitChart.bind("initialized",function(){t._makitChart.showToolBar(false);t._setMakitChartProperties();});this._makitChart.bind("beforerender",function(){t.fireEvent("_makitBeforeRender",t);});this._makitChart.bind("renderstart",function(){t.fireEvent("_makitRenderStart",t);});this._makitChart.bind("renderend",function(){t.fireEvent("_makitRenderEnd",t);});this._makitChart.bind("animationend",function(){t.fireEvent("_makitAnimationEnd",t);});var s=this._getChartSyntax();this._makitChart.create(s);this._makitChart.bind("tap",function(p){t._selectedCatIdx=t._makitChart.getSelectedCategoryIndex();t.fireTap(p);});this._makitChart.bind("doubletap",function(p){t.fireEvent("doubletap",p);});this._makitChart.bind("longpress",function(p){t._selectedCatIdx=t._makitChart.getSelectedCategoryIndex();t.fireEvent("longpress",p);});var l=this._styleClasses.length;for(var i=0;i<l;i++){this.addStyleClass(this._styleClasses[i]);}this._applyCSS();};
g.prototype._setMakitChartProperties=function(){if(!this._makitChart){return;}this._makitChart.setLegend(this.getLegendPosition().toLowerCase());this._makitChart.setPalette(this.getPrimaryColorPalette(),"primaryaxis");this._makitChart.setPalette(this.getSecondaryColorPalette(),"secondaryaxis");this._makitChart.showRangeSelectorView(this.getShowRangeSelector());this._makitChart.showTableValue(this.getShowTableValue());this._makitChart.setNumberOfVisibleCategories(this.getNumberOfVisibleCategories());this._makitChart.setRangeSelectorStartPosition(this.getRangeSelectorStartPosition());var v=this.getValueBubble();if(v){var h=v.toObject();this._makitChart.setValueBubbleStyle(h);if(this._makitChart.isValueBubbleVisible()!=h.visible){this._makitChart.showValueBubble(h.visible);}}var l=this.getLayers();var j=l.length;for(var i=0;i<j;i++){var k=l[i];if(k.getType()==f.Line){this._makitChart.setGraphLineWidth(k.getLineThickness(),k.getId());}var p=k.getPrimaryColorPalette();if(p){this._makitChart.setPalette(p,k.getId());}this._makitChart.setProperty(k.getId()+".values.SecondaryAxis",k.getDrawOnSecondaryAxis());}};
g.prototype._getChartSyntax=function(){var h=this.getCategoryAxis();var j=this.getCategoryRegions();var k=j.length;if(k>0){var i;var l="<Categories";if(h){if(h.getDisplayAll()){l+=' display ="'+h.getDisplayAll()+'"';}}l+=">";var n="";for(i=k-1;i>=0;i--){var t=j[i].getDisplayName();if(t&&t.length>0){n+=t+" | ";}}n=n.substr(0,n.length-3);for(i=0;i<k;i++){var o=j[i];l+='<Category column ="'+o.getColumn()+'"';if(o.getFormat()){l+=' format ="'+o.getFormat()+'"';}if(i==0){l+=' displayname ="'+n+'"';}if(h){l+=' showprimaryline ="'+h.getShowPrimaryLine()+'"';l+=' showgrid ="'+h.getShowGrid()+'"';l+=' showlabel ="'+h.getShowLabel()+'"';l+=' thickness ="'+h.getThickness()+'"';l+=' color ="'+h.getColor()+'"';l+=' sortorder ="'+h.getSortOrder().toLowerCase()+'"';l+=' displaylastlabel ="'+h.getDisplayLastLabel()+'"';}l+=' />';}l+="</Categories>";}else{throw new Error("CombinationChart '"+this.getId()+"' needs at least one Category data region");}var p=this.getLayers();var r=p.length;var s="";for(var i=0;i<r;i++){var u=p[i];s+=u.getSyntax(this.getPrimaryValueAxis(),this.getSecondaryValueAxis());}var v='<OverlayGroup>';v+=l;v+=s;v+='</OverlayGroup>';return v;};
g.prototype._setDataTable=function(){if(this._makitChart){this._setDataTableTimer=this._setDataTableTimer||setTimeout(function(){e(this._makitChart,"_makitChart is not initialized");this.fireEvent("_createDataTable",this);var l=this.getLayers();var h=l.length;this.fireEvent("_beforeSetDataTable",this);for(var i=0;i<h;i++){var j=l[i];this._makitChart.setDataTable(j.getDataTable(),j.getId());}this._dataInitialize=true;this._setDataTableTimer=undefined;}.bind(this),150);}};
g.prototype._applyCSS=function(o){if(this._makitChart){this._makitChart.applyCSS();}};
g.prototype._getSelectedSeries=function(l){var i=this.indexOfLayer(l);if(i>=0&&this._makitChart){return this._makitChart.getSelectedSeries(l.getId());}};
g.prototype._onResize=function(o){var p=document.getElementById(this.getParent().getId());var h=p.offsetHeight;var i=p.offsetWidth;if(this._parentCurrentHeight!=h&&h>0){this._setRealHeight(this.getHeight());this._parentCurrentHeight=p.offsetHeight;}if(this._makitChart!=null&&h>0&&i>0){this._makitChart.refresh();}};
g.prototype._onPropertyChanged=function(o){if(!this._makitChart){return;}var n=o.mParameters["name"];var h=o.mParameters["newValue"];if(this._makitChart){if(n==="showRangeSelector"){this._makitChart.showRangeSelectorView(h);}else if(n==="legendPosition"){this._makitChart.setLegend(h.toLowerCase());}else if(n==="width"){this.getDomRef().style.width=this.getWidth();}else if(n==="height"){this._setRealHeight(h);}else if(n==="showTableValue"){this._makitChart.showTableValue(h);}else if(n==="primaryColorPalette"){this._makitChart.setPalette(h,"primaryaxis");}else if(n==="secondaryColorPalette"){this._makitChart.setPalette(h,"secondaryaxis");}else if(n==="numberOfVisibleCategories"){this._makitChart.setNumberOfVisibleCategories(h);}else if(n==="rangeSelectorStartPosition"){this._makitChart.setRangeSelectorStartPosition(h);}this._makitChart.setSelectedCategoryIndex(this._selectedCatIdx);this._makitChart.refresh();}};
g.prototype._onLayerPropertyChanged=function(o){if(!this._makitChart){return;}var n=o.mParameters["name"];var h=o.mParameters["newValue"];var j=o.mParameters["oldValue"];if(this._makitChart){if(n==="type"){var l=o.getSource();var k=this.indexOfLayer(l);var p=this.getLayers();var r=p.length;var i;if(h!=f.Line){for(i=0;i<r;i++){var s=p[i].getType();if(k!=i&&s!=f.Line){l.setType(j);throw new Error("CombinationChart : "+h+" chart type cannot be combine with "+s+" chart type");}}}var t=h;if(t==f.Line){for(i=0;i<r;i++){if(p[i].getType()!=f.Line){t=p[i].getType();break;}}}var u="line";if(t==f.Bar){u="verticalline";}var v=h;if(h==f.Line){v=u;}this._makitChart.setProperty(l.getId()+".ChartType",v);for(i=0;i<r;i++){if(p[i].getType()==f.Line&&p[i].getLineType()!=u&&l!=p[i]){p[i].setLineType(u);this._makitChart.setProperty(p[i].getId()+".ChartType",u);}}}else if(n==="lineThickness"){this._makitChart.setGraphLineWidth(h,o.getSource().getId());}else if(n==="primaryColorPalette"){this._makitChart.setPalette(h,o.getSource().getId());}else if(n==="drawOnSecondaryAxis"){this._makitChart.setProperty(o.getSource().getId()+".values.SecondaryAxis",h);}this._makitChart.setSelectedCategoryIndex(this._selectedCatIdx);this._makitChart.refresh();}};
g.prototype._onDataRegionPropChanged=function(o,D){if(!this._makitChart){return;}var p=o.mParameters;if(p["type"]=="values"){var i=o.getSource().getId();var h=p["index"];if(h>-1){this._makitChart.setProperty(i+"."+p["type"]+"["+h+"]."+p["name"],p["newValue"]);}}else if(p["type"]=="series"){var i=o.getSource().getId();var h=p["index"];this._makitChart.setProperty(i+"."+p["type"]+"["+h+"]."+p["name"],p["newValue"]);}else if(D!=undefined){this._makitChart.setProperty(D["type"]+"."+p["name"],p["newValue"]);}};
g.prototype._onAxisPropChanged=function(o,D){e(D,"oData is expected to be set in _onAxisPropChanged");if(!this._makitChart){return;}var p=o.mParameters;var n=p["name"].toLowerCase();var v=p["newValue"];if(n==="sortorder"){v=v.toLowerCase();}if(D["axis"]=="values"){var w="primaryaxis";if(D["secondaryAxis"]){w="secondaryaxis";}this._makitChart.setProperty(w+"."+D["axis"]+"."+n,v);}else{var h=D["axis"];if(n==="displayall"){h="categories";n="display";if(!v){v="";}}this._makitChart.setProperty(h+"."+n,v);}this._makitChart.refresh();if(n==="sortorder"||n=="display"){this._setDataTable();}};
g.prototype._onValueBubbleChanged=function(o){if(!this._makitChart){return;}var v=this.getValueBubble().toObject();this._makitChart.setValueBubbleStyle(v);if(this._makitChart.isValueBubbleVisible()!=v.visible){this._makitChart.showValueBubble(v.visible);}this._makitChart.refresh();};
g.prototype.getSelectedCategory=function(){var s=undefined;if(this._makitChart){s=this._makitChart.getSelectedCategory();}return s;};
g.prototype.getNumberOfCategories=function(){var n=undefined;if(this._makitChart){n=this._makitChart.getNumberOfCategories();}return n;};
g.prototype.getSelectedCategoryGroup=function(){var s=undefined;if(this._makitChart){s=this._makitChart.getSelectedCategoryGroup();}return s;};
return g;});
sap.ui.predefine('sap/makit/CombinationChartRenderer',[],function(){"use strict";var C={};
C.render=function(r,c){r.write("<div id =\"sap-ui-dummy-"+c.getId()+"\" style =\"display:none\">");r.write("<div");r.writeControlData(c);r.writeAttribute("data-sap-ui-preserve",c.getId());r.addClass("sapMakitChart");r.writeClasses();r.write(">");r.write("</div>");r.write("</div>");};
return C;},true);
sap.ui.predefine('sap/makit/Layer',["./library","./MakitLib","./Row","sap/ui/core/Element","sap/base/Log","sap/base/assert"],function(m,M,R,E,L,a){"use strict";var C=m.ChartType;
var b=E.extend("sap.makit.Layer",{metadata:{deprecated:true,library:"sap.makit",properties:{type:{type:"sap.makit.ChartType",group:"Appearance",defaultValue:C.Column},lineThickness:{type:"float",group:"Appearance",defaultValue:1},primaryColorPalette:{type:"any",group:"Misc",defaultValue:null},drawOnSecondaryAxis:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{rows:{type:"sap.makit.Row",multiple:true,singularName:"row",bindable:"bindable"},columns:{type:"sap.makit.Column",multiple:true,singularName:"column",bindable:"bindable"},series:{type:"sap.makit.Series",multiple:false},values:{type:"sap.makit.Value",multiple:true,singularName:"value"}}}});
b.prototype.init=function(){this._datarows=[];this._createRowsCalled=false;this._lineType=null;};
b.prototype.addValue=function(v){E.prototype.addAggregation.call(this,"values",v,false);v.attachEvent("_change",{type:"values"},this._onDataRegionPropChanged,this);return this;};
b.prototype.addColumn=function(v){E.prototype.addAggregation.call(this,"columns",v,false);v.attachEvent("_change",{type:"columns"},this._onColumnPropChanged,this);return this;};
sap.makit.Chart.prototype.insertValue=function(v,i){E.prototype.insertAggregation.call(this,"values",v,i,false);v.attachEvent("_change",{type:"values"},this._onDataRegionPropChanged,this);return this;};
sap.makit.Chart.prototype.removeValue=function(v){var r=E.prototype.removeAggregation.call(this,"values",v,false);if(r!=null){r.detachEvent("_change",this._onDataRegionPropChanged,this);}return r;};
sap.makit.Chart.prototype.removeAllValues=function(){var r=E.prototype.removeAllAggregation.call(this,"values",false);var l=r.length;var i;for(i=0;i<l;i++){r[i].detachEvent("_change",this._onDataRegionPropChanged,this);}return r;};
b.prototype.setSeries=function(s){E.prototype.setAggregation.call(this,"series",s,false);s.attachEvent("_change",{type:"series"},this._onDataRegionPropChanged,this);return this;};
b.prototype.bindAggregation=function(n,B){if(n==="rows"){if(typeof B=="string"){B={path:arguments[1],template:arguments[2],sorter:arguments[3],filters:arguments[4]};}B.template=undefined;B.factory=function(){};return E.prototype.bindAggregation.call(this,n,B);}return E.prototype.bindAggregation.apply(this,arguments);};
b.prototype.addRow=function(r){L.error("The control manages the rows aggregation. The method \"addRow\" cannot be used programmatically!");};
b.prototype.insertRow=function(r,i){L.error("The control manages the rows aggregation. The method \"insertRow\" cannot be used programmatically!");};
b.prototype.removeRow=function(r){L.error("The control manages the rows aggregation. The method \"removeRow\" cannot be used programmatically!");};
b.prototype.removeAllRows=function(){L.error("The control manages the rows aggregation. The method \"removeAllRows\" cannot be used programmatically!");};
b.prototype.destroyRows=function(r){L.error("The control manages the rows aggregation. The method \"destroyRows\" cannot be used programmatically!");};
b.prototype.updateRows=function(){this.fireEvent("_startUpdateRows",this);this._createRows();this._createRowsCalled=true;this.fireEvent("rowsUpdated");this.fireEvent("_endUpdateRows",this);};
sap.makit.CombinationChart.prototype.setType=function(t){if(t==C.Pie||t==C.Donut||t==C.Bubble){throw new Error("Combination Chart does not support "+t+" chart type");return;}else{E.prototype.setProperty.call(this,"type",t,false);}return this;};
b.prototype._onDataRegionPropChanged=function(e,d){a(d,"oData is expected to be set in _onDataRegionPropChanged");var p=e.mParameters;p["type"]=d["type"];if(d["type"]=="values"){var v=e.oSource;var i=this.indexOfValue(v);p["index"]=i;}this.fireEvent("dataRegionChanged",p);};
b.prototype._onColumnPropChanged=function(e,d){var p=e.mParameters;if(p["name"]=="name"&&this._createRowsCalled){L.info("Column name property is changed due to name has been binded");this._createRows();}};
b.prototype._createRows=function(){var t=new R(this.getId()+"-dummyrows");var c=this.getColumns();for(var i=0,l=c.length;i<l;i++){var o=c[i];if(o){var d=o.clone("col"+i);d.detachEvent("_change",this._onColumnPropChanged,this);for(var p in o.mProperties){if(o.mProperties.hasOwnProperty(p)){d.setProperty(p,o.getProperty(p),false);}}d.data("sap-ui-colindex",i);t.addAggregation("cells",d);d.unbindAggregation("name",true);}}this.destroyAggregation("rows");var e=undefined;var B=this.getBinding("rows");if(B){e=B.getContexts();}var f=B.getLength();this._datarows=[];var g=this.getBindingInfo("rows");var s=undefined;if(g&&g.model){s=g.model;}for(var i=0;i<f;i++){if(e&&e[i]){var d=t.clone("row"+i);d.setBindingContext(e[i],s);this.addAggregation("rows",d);this._datarows.push(d._datarow);}}t.destroy();};
b.prototype.setLineType=function(l){this._lineType=l;};
b.prototype.getLineType=function(){return this._lineType;};
b.prototype.getSyntax=function(p,s){var c=this.getSeries();var d='';if(c){d='<Series Column ="'+c.getColumn()+'"';if(c.getFormat()){d+=' format ="'+c.getFormat()+'"';}if(c.getDisplayName()){d+=' displayname ="'+c.getDisplayName()+'"';}d+='/>';}var e=this.getDrawOnSecondaryAxis();var v='<Values>';var f=e?s:p;if(f){v='<Values';if(e){v+=' SecondaryAxis ="'+e+'"';}v+=' showprimaryline ="'+f.getShowPrimaryLine()+'"';v+=' showgrid ="'+f.getShowGrid()+'"';v+=' showlabel ="'+f.getShowLabel()+'"';v+=' thickness ="'+f.getThickness()+'"';v+=' color ="'+f.getColor()+'"';if(f.getMin()!==""){v+=' min ="'+f.getMin()+'"';}if(f.getMax()!==""){v+=' max ="'+f.getMax()+'"';}v+='>';}var g=this.getValues();var l=g.length;if(l==0){throw new Error("Chart '"+this.getId()+"' needs at least one Value data region");}var h;for(var i=0;i<l;i++){h=g[i];v+='<Value Expression ="'+h.getExpression()+'"';if(h.getFormat()){v+=' format ="'+h.getFormat()+'"';}if(h.getDisplayName()){v+=' displayname ="'+h.getDisplayName()+'"';}if(h.getLocale()!==""){v+=' Locale ="'+h.getLocale()+'"';}v+='/>';}v+='</Values>';var t=this.getType().toLowerCase();var j=this.getLineType();var k=null;if(t==="donut"||t==="pie"){k=t;t="pie";}else if(t==="line"&&j){t=j;}var n='<Layer Name ="'+this.getId()+'" ChartType ="'+t+'"';if(k!==null){n+=' PieStyle ="'+k+'"';}n+=' >';if(c){n+=d;}n+=v;n+='</Layer>';return n;};
b.prototype.getDataTable=function(){if(this._datarows&&this._datarows.length>0){var d=this._datarows;var c=new window.$MA.DataTable();var e=this.getColumns();var f=e.length;if(f==0){e=this.getRows()[0].getCells();f=e.length;}for(var i=0;i<f;i++){c.addColumn(e[i].getName(),e[i].getType());}c.addRows(d);return c;}return null;};
b.prototype.getSelectedSeries=function(){var p=this.getParent();if(p){return p._getSelectedSeries(this);}};
return b;});
sap.ui.predefine('sap/makit/Row',["./library","sap/ui/core/Element"],function(m,E){"use strict";
var R=E.extend("sap.makit.Row",{metadata:{deprecated:true,library:"sap.makit",aggregations:{cells:{type:"sap.makit.Column",multiple:true,singularName:"cell"}}}});
R.prototype.init=function(){this._datarow={};};
R.prototype.addCell=function(c){E.prototype.addAggregation.call(this,"cells",c,false);var i=this.getId();if(!i.endsWith("dummyrows")){this._datarow[c.getName()]=c.getValue();c.attachEvent("_change",this.onCellChanged,this);}};
R.prototype.onCellChanged=function(e){if(e.mParameters['name']==="name"){var o=e.mParameters['oldValue'];var n=e.mParameters['newValue'];this._datarow[n]=undefined;if(o&&o!==""){this._datarow[n]=this._datarow[o];this._datarow[o]=null;this._datarow[o]=undefined;delete this._datarow[o];}}else if(e.mParameters['name']==="value"){var c=e.oSource.getName();this._datarow[c]=e.mParameters['newValue'];}};
return R;});
sap.ui.predefine('sap/makit/Series',["./library","sap/ui/core/Element"],function(m,E){"use strict";
var S=E.extend("sap.makit.Series",{metadata:{deprecated:true,library:"sap.makit",properties:{column:{type:"string",group:"Data",defaultValue:null},displayName:{type:"string",group:"Appearance",defaultValue:null},format:{type:"string",group:"Misc",defaultValue:null}}}});
return S;});
sap.ui.predefine('sap/makit/Value',["./library","sap/ui/core/Element"],function(m,E){"use strict";
var V=E.extend("sap.makit.Value",{metadata:{deprecated:true,library:"sap.makit",properties:{expression:{type:"string",group:"Misc",defaultValue:null},displayName:{type:"string",group:"Misc",defaultValue:null},format:{type:"string",group:"Misc",defaultValue:null},locale:{type:"string",group:"Misc",defaultValue:null}}}});
return V;});
sap.ui.predefine('sap/makit/ValueAxis',["./library","./Axis"],function(m,A){"use strict";
var V=A.extend("sap.makit.ValueAxis",{metadata:{deprecated:true,library:"sap.makit",properties:{min:{type:"string",group:"Misc",defaultValue:null},max:{type:"string",group:"Misc",defaultValue:null}}}});
V.prototype.init=function(){this.setShowGrid(true);this.setShowPrimaryLine(false);};
return V;});
sap.ui.predefine('sap/makit/ValueBubble',["./library","sap/ui/core/Element"],function(m,E){"use strict";var V=m.ValueBubbleStyle;var a=m.ValueBubblePosition;
var b=E.extend("sap.makit.ValueBubble",{metadata:{deprecated:true,library:"sap.makit",properties:{showCategoryText:{type:"boolean",group:"Misc",defaultValue:true},showCategoryDisplayName:{type:"boolean",group:"Misc",defaultValue:true},showValueDisplayName:{type:"boolean",group:"Misc",defaultValue:true},showValueOnPieChart:{type:"boolean",group:"Misc",defaultValue:false},showLegendLabel:{type:"boolean",group:"Misc",defaultValue:true},showNullValue:{type:"boolean",group:"Misc",defaultValue:true},position:{type:"sap.makit.ValueBubblePosition",group:"Misc",defaultValue:a.Top},style:{type:"sap.makit.ValueBubbleStyle",group:"Misc",defaultValue:V.Top},visible:{type:"boolean",group:"Appearance",defaultValue:true}}}});
b.prototype.toObject=function(){var o={};o.showCategoryText=this.getShowCategoryText();o.showCategoryDisplayName=this.getShowCategoryDisplayName();o.showValueDisplayName=this.getShowValueDisplayName();o.showValueOnPieChart=this.getShowValueOnPieChart();o.showLegendLabel=this.getShowLegendLabel();o.showNullValue=this.getShowNullValue();o.style=this.getStyle().toLowerCase();o.position=this.getPosition().toLowerCase();o.visible=this.getVisible();return o;};
return b;});
sap.ui.predefine('sap/makit/library',["sap/ui/core/Core","sap/ui/core/library"],function(C,c){"use strict";sap.ui.getCore().initLibrary({name:"sap.makit",dependencies:["sap.ui.core"],types:["sap.makit.ChartType","sap.makit.LegendPosition","sap.makit.SortOrder","sap.makit.ValueBubblePosition","sap.makit.ValueBubbleStyle"],interfaces:[],controls:["sap.makit.Chart","sap.makit.CombinationChart"],elements:["sap.makit.Axis","sap.makit.Category","sap.makit.CategoryAxis","sap.makit.Column","sap.makit.Layer","sap.makit.MakitLib","sap.makit.Row","sap.makit.Series","sap.makit.Value","sap.makit.ValueAxis","sap.makit.ValueBubble"],version:"1.74.0"});sap.makit.ChartType={Column:"Column",Line:"Line",Bubble:"Bubble",Bar:"Bar",Pie:"Pie",Donut:"Donut",StackedColumn:"StackedColumn",HundredPercentStackedColumn:"HundredPercentStackedColumn",WaterfallColumn:"WaterfallColumn",WaterfallBar:"WaterfallBar"};sap.makit.LegendPosition={Top:"Top",Left:"Left",Bottom:"Bottom",Right:"Right",None:"None"};sap.makit.SortOrder={Ascending:"Ascending",Descending:"Descending",Partial:"Partial",None:"None"};sap.makit.ValueBubblePosition={Top:"Top",Side:"Side"};sap.makit.ValueBubbleStyle={Top:"Top",Float:"Float",FloatTop:"FloatTop"};return sap.makit;});
sap.ui.require.preload({
	"sap/makit/manifest.json":'{"_version":"1.9.0","sap.app":{"id":"sap.makit","type":"library","embeds":[],"applicationVersion":{"version":"1.74.0"},"title":"Mobile Chart controls based on the Sybase MAKIT charting lib.","description":"Mobile Chart controls based on the Sybase MAKIT charting lib.","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_bluecrystal"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.74","libs":{"sap.ui.core":{"minVersion":"1.74.0"}}},"library":{"i18n":"messagebundle.properties","content":{"controls":["sap.makit.Chart","sap.makit.CombinationChart"],"elements":["sap.makit.Axis","sap.makit.Category","sap.makit.CategoryAxis","sap.makit.Column","sap.makit.Layer","sap.makit.MakitLib","sap.makit.Row","sap.makit.Series","sap.makit.Value","sap.makit.ValueAxis","sap.makit.ValueBubble"],"types":["sap.makit.ChartType","sap.makit.LegendPosition","sap.makit.SortOrder","sap.makit.ValueBubblePosition","sap.makit.ValueBubbleStyle"],"interfaces":[]}}}}',
	"sap/makit/MakitLib.js":function(){sap.ui.loader.config({shim:{"sap/makit/js/SybaseMA":{exports:"$MA"},"sap/makit/localization/jQueryGlobalization":{deps:["sap/ui/thirdparty/jquery"],exports:"jQuery"},"sap/makit/localization/jQueryCoreLang":{deps:["sap/makit/localization/jQueryGlobalization"],exports:"jQuery"}}});sap.ui.define(["./library","./js/SybaseMA","./localization/jQueryGlobalization","./localization/jQueryCoreLang","sap/ui/core/Element","sap/base/Log"],function(m,S,q,Q,E,L){"use strict";
var M=E.extend("sap.makit.MakitLib",{metadata:{deprecated:true,library:"sap.makit"}});
M._onThemeChanged=function(e){window.$MA.Chart.getStyles();};
M._libraryInit=(function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.makit");var c=sap.ui.getCore().getConfiguration().getLanguage();window.$MA.GlobalizedResource={};window.$MA.GlobalizedResource[c]={"Others":r.getText("CHART_OTHERS"),"Total":r.getText("CHART_TOTAL"),"Thousand_ShortForm":r.getText("Thousand_ShortForm"),"Million_ShortForm":r.getText("Million_ShortForm"),"Billion_ShortForm":r.getText("Billion_ShortForm"),"Trillion_ShortForm":r.getText("Trillion_ShortForm")};window.$MA.setLocale(c);var i="popup_tt_left.png";var p=sap.ui.resource("sap.makit","themes/base/images/"+i);p=p.substring(0,p.length-i.length);window.$MA.setImagesFolder(p);sap.ui.getCore().attachThemeChanged(M._onThemeChanged);window.$MA.Chart.getStyles();if(L.getLogger().getLevel()==L.Level.TRACE){window.$MA.setTrace(3);}}());return M;});
}
},"sap/makit/library-preload"
);
//# sourceMappingURL=library-preload.js.map